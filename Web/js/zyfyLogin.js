$(function(){function o(o){var e=o.url||"",i=o.data||"",n=null;return $.ajax({url:e,type:"post",data:i,async:!1,success:function(o){n=o?o:"加载超时"},error:function(){n="加载失败"}}),n}$.cookie("loginname")&&$("#loginName").val($.cookie("loginname")),$.cookie("status")&&$("#rem").addClass("checked"),$(".placeholder").inputDefault(),$(".remAcc span").click(function(){$("#rem").toggleClass("checked")}),$("#loginName").focus(function(){$(".tipBox p.tip").hide()}),$("#loginPass").focus(function(){$(".tipBox p.tip").hide()}),$(document).keydown(function(o){13==o.keyCode&&$(".loginBtn").click()});var e=!0;e&&$(".loginBtn").click(function(){e=!1;var i=$("#loginName").val(),n=$("#loginPass").val();if(""==i||""==n)return $(".tipBox p.tip").show().html("用户名或密码不能为空"),void(e=!0);var t;t=o({url:"/front/user/login",data:{"userVo.loginName":i,"userVo.passphrase":n}}),t||(e=!0),"加载超时"==t?$(".tipBox p.tip").show().html("连接超时"):"加载失败"==t?$(".tipBox p.tip").show().html("连接失败"):1e3==t.message.code?($("#rem").hasClass("checked")&&($.cookie("loginname",i,{expires:7}),$.cookie("status","1")),window.location.href="/index.html"):$(".tipBox p.tip").show().html(t.message.message)})});